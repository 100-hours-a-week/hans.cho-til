# 네트워크 개념 정리 (2025-02-08)

아포리즘
- 패킷 트레이서 커멘드는 여기에 먼저 작성한 다음 복사 붙여넣기 하는 식으로 진행할 것.(바로바로 입력하면 오류가 많음.)

## 패킷 트레이서 실습
### 라우터 두 개를 통해 핑을 보낼 때, 돌아오는 패킷을 위해서도 그 라우팅을 역으로 설정해야 하나?
- 맞다. 이건 지피티 없이 셀프로 해보기.
- 돌아오는 길 첫 번째 라우터
```
config terminal
ip route 203.237.20.0 255.255.255.0 2.2.2.2
exit
write memory
```
- 돌아오는 길 두 번째 라우터
```
config terminal
ip route 203.237.20.0 255.255.255.0 3.3.3.2
exit
write memory
```

### 이제 ASA랑 라우터 진짜 연결해보기.
- ASA에서 인터페이스별 아이피 확인하는 방법: 
show interface ip brief
~~아니, 라우터에서는 show ip interface brief고, 왜 이렇게 일관성 없게 커맨드가 잡혀 있지?~~
- 각 포트 vlan 확인하는 법
show switch vlan
- vlan 설정
    - inside: 192.168.10.2, port: except all of outside ports
    - outside: 209.237.20.253, port: et0/0
- 내부망 게이트웨이 설정 -> inside ip로 설정하면 되겠지 
- 그 다음 outside 를 지금.... 이 서브넷으로는 라우팅을 다 해놨잖아. 그러면 됐지.
- outside ip가 잘못 설정돼 있다. 203으로 바꿔야 함.
```
config terminal
interface vlan2
ip address 203.237.20.253 255.255.255.0
exit
exit
write memory
```
- 다시 패킷이 안 날아간다. 
1. 게이트 웨이 설정이 제대로 됐는가?
- 컴퓨터의 게이트웨이: 203.237.50.1
- 라우터 랜:  203.237.50.1
- 제대로 포트 연결도 됨.
2. 라우팅 테이블이 제대로 설정 됐는가?
S    203.237.20.0/24 [1/0] via 2.2.2.2
     203.237.50.0/24 is variably subnetted, 2 subnets, 2 masks
- 응
3. 그러면? 아 바보야. 보안 레벨 때문에 밖에서는 못 보내는게 맞다. 근데 라우팅 자체가 안 되는게 맞나? 그건 잘 모르겠는데. 

### 문제: 노드가 많이 있는 상태에서 simple pdu 시뮬레이션을 실행하면 내가 생성한 패킷은 온데간데 없고 다른 부분 패킷들만 나타난다. 

### 중소기업 부서별 아이피 설정

#### L2 스위치 포트 VLAN 일괄 설정
```
bash
interface range fa0/1 - 24
switchport mode access
switchport access vlan 10
```

### 패킷 트레이서 중소기업 네트워크 구축 시 와이파이 vlan 설정 지침