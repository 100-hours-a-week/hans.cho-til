# 네트워크 개념 정리 (2025-02-04)

## 1. 문답
### Q. 스타형, 링형, 버스형 랜에 대해 설명
- 네트워크의 연결 방식. 요즘은 스타형을 주로 쓴다. 일반적으로 허브(혹은 스위치)로 랜이 모두 연결된 형태

### Q. 링형에서는 컴퓨터만 있어도 네트워크 구성이 되겠네
- 이론적으로는 가능하지만 실제로는 추가적인 네트워크 장비가 필요한 경우가 많다.
- 왜냐면 대부분의 컴퓨터가 링형 네트워크를 직접 지원하지 않아서, 별도의 NIC가 필요하다. 이 카드는 일반적인 이더넷 카드와는 다르다.
- 그리고 링 형으로 데이터가 빙빙 돌면 신호가 약해져서 이를 증폭시켜주는 리피터도 필요하다.


### Q. WAN은 OSI 몇 레벨?
- 1계층부터 3계층까지를 포함한다(물리계층, 데이터링크 계층, 네트워크 계층)
- 물리계층: 물리적인 신호를 전달하는 요소들. 광섬유 같은 거
- 데이터 링크 계층: WAN 프로토콜(프레임이 오류 없이 전달되도록 관리하는 역할)
- 네트워크 계층: IP 기반 라우팅이 이루어지는 계층. WAN은 광역 네트워크 관리를 위해 라우터를 사용해 패킷을 목적지로 전달함.

### Q. 데이터링크계층에 대해 설명
- 직접적으로 연결된 장치 간의 데이터 전송을 담당하는 계층. 오류 감지, 흐름 제어, 물리적 주소 지정(MAC주소 사용) 등의 역할을 한다.
- 데이터를 프레임으로 나누어 전송
- 맥 주소를 사용하는 체계
- 오류 검출
- 흐름 제어
- 접근 제어(CSMA/CD, CSMA/CA)도 이 계층에서 한다.
- 두 개의 서브 계층으로 나뉜다
  - 맥 계층: 실제 데이터가 물리적으로 어떻게 전송될지 제어
  - LLC(Logical Link Control 계층): 에러 검출, 흐름 제어, 프로토콜 멀티플렉싱 담당

### Q. 맥 계층을 OSI 1, 2 계층으로 설명
- 맥 계층은 기본적으로 데이터링크 계층의 하위 계층이지만 1계층과도 관련 있음
- 맥 계층은 네트워크에서 데이터를 전송할 때, 물리적 매체(케이블, 무선 등)를 효율적으로 사용할 수 있도록 제어하는 역할을 한다.
- "누가, 언제 네트워크를 사용할 것인가?"를 결정하는 핵심적인 역할
- 맥 계층이 데이터를 프레임 단위로 생성하면, 이를 OSI 1계층이 비트 신호로 변환하여 전송.
- 이때 물리 매체에 따라 차이가 있다
  - 유선 네트워크: CSMA/CD 방식, RJ-45케이블을 통해 전기 신호 송신
  - 무선 네트워크: CSMA/CA 방식, 무선 주파수를 통한 비트 송신

### Q. 그럼 맥 계층(2계층)까지는 프레임 형테로 데이터가 돼 있는데 물리계층으로 넘어가면 이제 비트 단위의 주파수 같은 것이 되는건가
- 맞음

### Q. TCP/IP4계층 설명
- 너무 복잡한 OSI 7계층을 단순화한 De facto 표준
- 1. Network access layer: sends bit unit data.
- 2. Internet layer: packet delivery & routing (IP address based)
- 3. Transport layer: takes part of delivering data in reliable way(TCP, UDP)
- 4. Application layer: almost same as 7th layer of OSI.

### Q. 왜 TCP/IP 계층이라 불러? 그냥 4계층이 아니라
- TCP와 IP가 핵심 프로토콜이기 때문

### Q. 프레임, 패킷, 세그먼트, 데이터의 관계
|계층	|데이터 단위|	주요 프로토콜|	설명
|--|---|---|---
|응용 계층 (Application Layer)|	데이터 (Data)|	HTTP, FTP, DNS 등|	사용자와 직접 상호작용하는 데이터
|전송 계층 (Transport Layer)|	세그먼트(Segment) (TCP) / 데이터그램(Datagram) (UDP)	TCP, UDP	|전송을 위한 데이터 단위
|네트워크 계층 (Network Layer)|	패킷(Packet)|	IP	|목적지 주소(IP)를 포함한 데이터
|데이터 링크 계층 (Data Link Layer)|	프레임(Frame)|	Ethernet, Wi-Fi|	물리적 전송을 위한 최종 데이터 단위
|물리 계층 (Physical Layer)|	비트(Bit)|	-	|신호로 변환되어 전송됨

### Q. HTTP는 TCP 통신이다, 맞아?
- 맞다

### Q. 물리계층: 비트, 프로토콜 따로 없음
데이터링크 계층: 프레임, 이더넷 프로토콜
네트워크 계층: 패킷, IP? iP가 프로토콜인가?
전송 계층: 세그먼트 혹은 데이터그램, TCP/UDP
표현계층: 데이터 표현 따로 없음SSL
응용계층: 데이터 표현이 뭐지? 프로토콜은 HTTP

### Q. 세션계층에 대한 설명
- 세션 계층(Session Layer)은 통신하는 장치 간의 세션(연결)을 설정, 유지, 종료하는 역할을 담당하는 계층이다.
- 응용 계층과 전송 계층 사이에서 세션을 관리하여 데이터가 올바르게 송수신되도록 도와준다.

### Q. 노드간의 티키타카를 담당해주는 계층이군
- 맞다

### Q. CSMA/CD를 설명해줘
- CSMA/CD는 이더넷(Ethernet)에서 데이터 충돌(Collision)을 감지하고 해결하는 방식이다.
- 유선 네트워크에서 여러 장치(노드)가 같은 전송 매체(케이블)를 공유할 때 충돌을 방지하는 방법.
- CSMA/CD는 현재 “반이중(Half-Duplex) 이더넷”에서 사용되며, “전이중(Full-Duplex) 이더넷”에서는 사용되지 않는다.

### Q. JAM신호를 랜 안의 모든 노드에게 브로드캐스트하는 거야?
- 아니다! JAM 신호는 일반적인 브로드캐스트(모든 노드에게 전송) 방식이 아니다.
- 브로드캐스트는 특정 MAC 주소(FF:FF:FF:FF:FF:FF)를 사용하여 네트워크 내 모든 장치가 메시지를 받도록 설정하는 방식이다.
- 하지만 JAM 신호는 단순히 충돌이 발생한 선로(Media)에 전기 신호를 보내는 방식이다.
- 즉, JAM 신호는 “네트워크 전체에 퍼지는 신호”가 아니라, “같은 물리적 네트워크 매체(공유된 케이블)를 사용하는 노드들에게 전달되는 충돌 알림 신호”이다.
- 허브 기반 네트워크에서는 같은 케이블을 공유하므로, 연결된 모든 노드가 충돌 신호를 감지할 수 있다.
- 하지만 스위치 기반 네트워크에서는 CSMA/CD가 필요 없으므로 JAM 신호 자체가 사용되지 않는다.

### Q. 음, 그럼 jam 신호가 대체 어떻게 전달된다는 거야 미디어에 전기 신호를 보내면 그걸로 끝이야? 그럼 이건 물리계층이겠네
- JAM 신호는 네트워크의 물리적 매체(전기 신호)로 전달되며, CSMA/CD 과정에서 충돌이 감지된 후 이를 알리는 역할을 한다.
- 즉, JAM 신호는 “물리 계층(1계층)에서 전기적 신호로 전송”되지만, “CSMA/CD 메커니즘은 데이터 링크 계층(2계층)에서 동작”한다.


---

## 패킷 트레이서 실습

### 패킷 트레이서 설치 🛠️
- Cisco Packet Tracer 설치 완료! 🎉

### LAN 구축해보기
- 네트워크 토폴로지 구성
  - 서버 노드 2개 연결
  - 스위치 추가
  - LAN 내부에서 핑 테스트 성공 

### LAN 환경에서 FTP 구축해보기
- SSH 연결 먼저 해보기
  - 라우터에 SSH 서버를 구축해야 하나? 🤔
    - ❌ No, 라우터 없이도 내 컴퓨터만으로 SSH 서버 구축 가능! 근데 패킷 트레이서에서는 PC 엔드포인트에는 사용 안 됨
    - 단, 네트워크 연결이 필요함 (같은 LAN에 있어야 함).

- FTP 서버 설정 후 Passive Mode 문제 발생
  - Passive Mode가 자동으로 활성화됨 🤷‍♂️
  - "몰라 그냥 해..." 🏃‍♂️ (일단 해결 후 원인 분석 예정)

### WAN 구축해보기
- 서로 다른 LAN 간 핑 테스트
  - 라우터 설정 체크 🔎
    - 정적 라우팅 설정 완료 (예: `10.0.0.2 -> 192.168.2.0/24`)
    - 라우터 인터페이스 활성화 확인
    - 라우터 간 핑 정상 작동
    - LAN에서 라우터로 핑 전송 가능
    - LAN에서 다른 LAN의 라우터로도 핑 전송 가능
    - 컴퓨터끼리도 핑 보내짐 🤯 (정상 작동 확인!)
  
- LAN 두 개 연결 후 정적 라우팅 설정
  - 라우터 연결 선 활성화 문제 해결
  - 정적 라우팅 설정 완료

