# 네트워크 개념 정리 (2025-02-05)

## 패킷 트레이서 VLAN 구성 및 DHCP 설정 문제 해결

### VLAN 구성
- VLAN 2와 3 설정 완료, 그러나 VLAN 3에서 핑이 전송되지 않는 문제 발생
- 문제 원인: VLAN 간 서브넷 마스크가 달라야 함
- 해결: 각 VLAN에 적절한 서브넷 마스크 설정
  - VLAN1: 192.168.1.1
  - VLAN2: 192.168.2.1
  - VLAN3: 192.168.3.1
- VLAN 간 포트 할당 완료
- 오류 확인: 호스트 IP가 서브넷 마스크와 맞지 않게 설정됨 → 수정 완료

### 시뮬레이션 이해
- 패킷 필터링을 통해 특정 패킷만 확인 가능
- ARP 패킷이 안 보임 → 기본적으로 `simple PDU`는 `ICMP 패킷`만 전송
- 해결: `complex PDU`를 사용하여 다양한 패킷 테스트 가능

### VLAN Trunking Protocol (VTP)
- VLAN 설정 자동화 필요 → VTP 서버 & 클라이언트 구성
- VTP 서버에서 VLAN 생성, 클라이언트 스위치가 자동으로 동기화
- 최적의 설정
  - VLAN 생성은 VTP 서버에서 자동화
  - 포트 VLAN 할당은 템플릿 기반 반자동화
- 구성 완료
  - VTP 서버 설정 완료
  - VTP 클라이언트 스크립트 적용

### VLAN별 DHCP 범위 설정
- 계획
  - 오피스: 20번대
  - 와이파이: 30번대
  - 게스트: 50번대
- 문제 발생: VLAN 포트에 연결된 장치가 DHCP 할당 실패
- 문제 해결
  - `show ip dhcp binding` 확인 → 정상적인 결과 없음
  - 원인: DHCP 서버가 다른 VLAN에 있을 경우 `ip helper-address` 필요
  - 추가 확인: 이미 설정된 VTP 스크립트에서 서버 VLAN 지정 확인
  - 최종 원인: VLAN의 IP 설정이 되어 있지 않음
  - 해결: 필요한 VLAN에 IP 주소 설정

### 추가 작업
- DHCP 서버의 고정 IP 설정 필요
- 네트워크 구상도 작성 검토
- 장비별 고정 IP 할당 계획 필요